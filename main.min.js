const $=document;let body=$.querySelector("body"),inputSearch=$.querySelector(".searchbar input"),description=$.querySelector(".description"),btnSearch=$.querySelector(".icon-search"),titleWeather=$.querySelector(".title .value"),tempWeather=$.querySelector(".temp p"),statusWeather=$.querySelector(".icon-weather .value"),statusWeatherImg=$.querySelector(".icon-weather img"),humidityWeather=$.querySelector(".humidity .value"),windSpeedWeather=$.querySelector(".wind-speed .value");const apiKey="5545d7031de44f0343d0a37ecd2f5b32";let image=["2082049.jpg","daniele-buso-qzUenL35ZYw-unsplash.jpg","nathan-queloz-VWZJgYLpmuI-unsplash.jpg","zu-photography-JjAhzqZzk1M-unsplash.jpg"],randNum=Math.floor(Math.random()*image.length);body.style.backgroundImage=`url('${image[randNum]}')`;let getWeather=async()=>{let e=inputSearch.value.toLowerCase(),t=await(await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&appid=${apiKey}`)).json();console.log(t),200===t.cod?(description.style.display="block",setWeather(t),setTimeout(()=>inputSearch.value="",500)):incurrectVal()},setWeather=e=>{titleWeather.textContent=e.name;let t=(e.main.temp-273.15).toFixed(1);tempWeather.innerHTML=`${t}Â°C`,statusWeather.innerHTML=e.weather[0].main,humidityWeather.innerHTML=e.main.humidity,windSpeedWeather.innerHTML=`${e.wind.speed} km/h`,statusWeatherImg.src=`http://openweathermap.org/img/wn/${e.weather[0].icon}.png`,console.log(e)},incurrectVal=()=>{description.style.display="",alert("incurrect!")};btnSearch.addEventListener("click",getWeather),window.addEventListener("load",()=>inputSearch.focus()),inputSearch.addEventListener("keydown",e=>{13===e.keyCode&&getWeather()});